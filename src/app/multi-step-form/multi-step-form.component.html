<div class="row py-3 px-1 rounded-4 bg-light mx-5 my-3">
  <div class="col-12 col-md-5 sidebar-desktop">
    <div class="sidebar-steps m-4">
      <div class="row">
        <div class="col-3 col-xxl-2 d-flex justify-content-center">
          <div class="step-number" [ngClass]="currentStep === 1 ? 'step-selected': ''">1</div>
        </div>
        <div class="col-9 px-0">
          <p class="step-text">step 1</p>
          <p class="step-title">your info</p>
        </div>
      </div>
      <div class="row">
        <div class="col-3 col-xxl-2 d-flex justify-content-center align-center">
          <div class="step-number" [ngClass]="currentStep === 2 ? 'step-selected': ''">2</div>
        </div>
        <div class="col-9 px-0">
          <p class="step-text">step 2</p>
          <p class="step-title">select plan</p>
        </div>
      </div>
      <div class="row">
        <div class="col-3 col-xxl-2 d-flex justify-content-center align-center">
          <div class="step-number" [ngClass]="currentStep === 3 ? 'step-selected': ''">3</div>
        </div>
        <div class="col-9 px-0">
          <p class="step-text">step 3</p>
          <p class="step-title">add-ons</p>
        </div>
      </div>
      <div class="row">
        <div class="col-3 col-xxl-2 d-flex justify-content-center align-center">
          <div class="step-number" [ngClass]="currentStep === 4 ? 'step-selected': ''">4</div>
        </div>
        <div class="col-9 px-0">
          <p class="step-text">step 4</p>
          <p class="step-title">summary</p>
        </div>
      </div>
    </div>
    <img src="assets\images\bg-sidebar-desktop.svg" alt="sidebar img desktop">
  </div>
  <div class="col-12 col-md-7 px-4">
    <form [formGroup]="addUserForm" (ngSubmit)="onSubmit()">
      <!-- Step 1 - Your Info -->
      <div *ngIf="currentStep === 1" class="row mt-4">
        <h1 class="step-main-title">Personal info</h1>
        <p class="personal-info-text">Please provide your name, email address, and phone number.</p>
        <div class="col-11 my-2">
          <mat-form-field appearance="fill" class="w-100">
            <mat-label>Name</mat-label>
            <input matInput placeholder="Nombre" formControlName="name">
            <mat-error *ngIf="addUserForm.get('name')!.hasError('required')">This field is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-11 my-2">
          <mat-form-field class="w-100">
            <mat-label>Email</mat-label>
            <input matInput placeholder="Email" formControlName="email">
            <mat-error *ngIf="addUserForm.get('email')!.hasError('required')">This field is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-11 mt-2 mb-6">
          <mat-form-field class="w-100">
            <mat-label>Phone</mat-label>
            <input matInput placeholder="email@gmail" formControlName="phone">
            <mat-error *ngIf="addUserForm.get('phone')!.hasError('required')">This field is required</mat-error>
          </mat-form-field>
        </div>
        <div class="col-11 my-6 d-flex justify-content-end">
          <button class="btn btn-primary" (click)="isFirstStep()">Next step</button>
        </div>

      </div>
      <!-- Step 2 - Select Plan -->
      <div *ngIf="currentStep === 2" class="row mt-4">
        <h1 class="step-main-title">Select your plan</h1>
        <p class="personal-info-text">You have the option of monthly or yearly billing.</p>
        <div class="row px-0 mx-0">
          <div class="col-3 my-2 plan-box" [ngClass]="currentPlan == 1 ? 'plan-selected': ''" (click)="selectPlan(1)">
            <div class="plan-icon">
              <img src="assets/images/icon-arcade.svg" alt="Arcade Icon">
            </div>
            <div class="plan-description">
              <p class="m-0"><strong>Arcade</strong></p>
              <p class="p-0">$9/mo</p>
            </div>
          </div>
          <div class="col-3 my-2 plan-box" [ngClass]="currentPlan == 2 ? 'plan-selected': ''" (click)="selectPlan(2)">
            <div class="plan-icon">
              <img src="assets/images/icon-advanced.svg" alt="Arcade Icon">
            </div>
            <div class="plan-description">
              <p class="m-0"><strong>Advanced</strong></p>
              <p class="p-0">$12/mo</p>
            </div>
          </div>
          <div class="col-3 my-2 plan-box" [ngClass]="currentPlan == 3 ? 'plan-selected': ''" (click)="selectPlan(3)">
            <div class="plan-icon">
              <img src="assets/images/icon-pro.svg" alt="Pro Icon">
            </div>
            <div class="plan-description">
              <p class="m-0"><strong>Pro</strong></p>
              <p class="p-0">$15/mo</p>
            </div>
          </div>
        </div>
        <div class="col-12">
          <div class="period-toggle-area">
            <span>Monthly</span>
            <mat-slide-toggle formControlName="period" class="mx-2">
              <span class="mx-2">Yearly</span> 
            </mat-slide-toggle>
          </div>
        </div>
        <div class="col-11 my-6 d-flex justify-content-between">
          <button class="btn btn-secondary" (click)="previousStep()">Go Back</button>
          <button class="btn btn-primary" (click)="isSecondStep()">Next step</button>
        </div>
      </div>

      <!-- Step 3 - Add-Ons -->
      <div *ngIf="currentStep === 3" class="row mt-4">
        <h1 class="step-main-title">Pick add-ons</h1>
        <p class="personal-info-text">Add-ons help enhance your gaming experience.</p>
        <div class="col-11 add-ons my-2">
          <div>
            <mat-checkbox name="fieldName" ngDefaultControl formControlName="onlineService">
              <p class="add-ons-title">Online Service</p>
              <p class="personal-info-text">Access to multiplayer games</p>
            </mat-checkbox>
          </div>
          <div class="add-ons-price">
            <p class="m-0">+$1/mo</p>
          </div>
        </div>
        <div class="col-11 add-ons my-2">
          <div>
            <mat-checkbox ngDefaultControl formControlName="largeStorage">
              <p class="add-ons-title">Large storage</p>
              <p class="personal-info-text">Extra 1TB of clud save</p>
            </mat-checkbox>
          </div>
          <div class="add-ons-price">
            <p class="m-0">+$2/mo</p>
          </div>
        </div>
        <div class="col-11 add-ons my-2">
          <div>
            <mat-checkbox ngDefaultControl formControlName="customizableProfile">
              <p class="add-ons-title">Customizable profile</p>
              <p class="personal-info-text">Custom theme on your profile</p>
            </mat-checkbox>
          </div>
          <div class="add-ons-price">
            <p class="m-0">+$2/mo</p>
          </div>
        </div>
        <div class="col-11 my-6 d-flex justify-content-between">
          <button class="btn btn-secondary" (click)="previousStep()">Go Back</button>
          <button class="btn btn-primary" (click)="isThirdStep()">Next step</button>
        </div>
      </div>
      <!-- Step 4 - Summary -->
      <div *ngIf="currentStep === 4 && !finishedForm" class="row mt-4">
        <h1 class="step-main-title">Finishing up</h1>
        <p class="personal-info-text">Double-check everything looks OK before confiming.</p>
        <div class="col-11 my-2 finishing-card">
          <div class="finishing-header">
            <div>
              <p class="m-0 finishing-plan">Arcade (Monthly)</p>
              <a href="#" (click)="goStep(2)">Change</a>
            </div>
            <div>
              <p class="m-0">$9/mo</p>
            </div>
          </div>
          <div class="finishing-body">
            <div>
              <p class="m-0">Online Service</p>
            </div>
            <div>
              <p class="m-0">+$1/mo</p>
            </div>
          </div>
        </div>
        <div class="col-11 my-2 finishing-total">
          <div>
            <p class="m-0">Total(per month)</p>
          </div>
          <div>
            <h3 class="m-0">+$120/mo</h3>
          </div>
        </div>
        <div class="col-11 my-6 d-flex justify-content-between">
          <button class="btn btn-secondary" (click)="previousStep()">Go Back</button>
          <button class="btn btn-primary" type="submit">Confirm</button>
        </div>
      </div>
    </form>
    <div *ngIf="currentStep === 4 && finishedForm" class="thanks"> 
      <div class="thanks-container">
        <img src="assets\images\icon-thank-you.svg" width="60" alt="thank you image">
        <h1 class="step-main-title w-100">Thank you!</h1>
        <p>
          Thanks for confirming ypur subscription! We hope you have fun using our platform. 
          If you ever need support,please feel free to email us at support@loremgaming.com.
        </p>
      </div>
    </div>
  </div>
</div>

